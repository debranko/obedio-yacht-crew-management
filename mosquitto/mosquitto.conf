# OBEDIO MQTT Broker Configuration
# Supports both standard MQTT (1883) and WebSocket (9001) connections

# Standard MQTT listener on port 1883
listener 1883

# WebSocket listener on port 9001 (for browser connections)
listener 9001
protocol websockets

# Allow anonymous connections (for development)
# In production, set to false and configure authentication
allow_anonymous true

# Logging
log_type all
log_dest stdout

# Persistence (optional, stores messages when broker restarts)
persistence true
persistence_location mosquitto/data/

# Message settings
max_inflight_messages 20
max_queued_messages 1000
queue_qos0_messages true

# Keep alive
keepalive_interval 60

# Client settings
max_connections -1